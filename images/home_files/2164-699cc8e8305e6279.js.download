!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="998dcfb8-875d-4840-82ad-feb4329d9d31",e._sentryDebugIdIdentifier="sentry-dbid-998dcfb8-875d-4840-82ad-feb4329d9d31")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"15e16f7d"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2164],{60819:function(e,t,n){var r=n(2272),i=n(74985),l=n(50959),o=n(26473),a=n(88965),c=n(53312),s=n(36433);t.Z=function(e){var t=e.feature,n=(0,r.Z)(l.useState(!1),2),d=n[0],u=n[1];return(0,i.BX)(i.HY,{children:[(0,i.tZ)(o.G,{onClick:function(){return u(!d)},children:(0,i.tZ)(c.xv,{multiline:!1,css:[a.l0.fontSize("inherit"),a.l0.color.accentPrimaryStronger,a.l0.cursor.pointer,{":hover":{color:a.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,i.tZ)(s.Z,{feature:t,isOpen:d,setOpen:u})]})}},59644:function(e,t,n){n.d(t,{M:function(){return l}});var r=n(43119);function i(){var e=(0,r.Z)(["\n  fragment PostsFeedNavTag on Tag {\n    id\n    isOfficial\n  }\n"]);return i=function(){return e},e}var l=(0,n(71440).Ps)(i())},87555:function(e,t,n){n.d(t,{b:function(){return a}});var r=n(43119),i=n(71440),l=n(8619);function o(){var e=(0,r.Z)(["\n  fragment ReplPostRecentCommentUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return o=function(){return e},e}var a=(0,i.Ps)(o(),l._)},35264:function(e,t,n){n.d(t,{n:function(){return d}});var r=n(43119),i=n(71440),l=n(19440),o=n(10160),a=n(50531),c=n(59644);function s(){var e=(0,r.Z)(["\n  fragment ReplPostReplCardRepl on Repl {\n    id\n    iconUrl\n    description(plainText: true)\n    ...ReplPostReplInfoRepl\n    ...ReplStatsRepl\n    ...ReplLinkRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return s=function(){return e},e}var d=(0,i.Ps)(s(),l.Zs,o.T,a.Y,c.M)},19440:function(e,t,n){n.d(t,{Gz:function(){return w},U5:function(){return v},Zs:function(){return x},f_:function(){return g},rP:function(){return Z}});var r=n(43119),i=n(71440),l=n(65522),o=n(868),a=n(18128),c=n(10160),s=n(59644),d=n(87555);function u(){var e=(0,r.Z)(["\n  fragment ReplPostReplInfoRepl on Repl {\n    id\n    title\n    description(plainText: true)\n    imageUrl\n    iconUrl\n    templateInfo {\n      label\n      iconUrl\n    }\n  }\n"]);return u=function(){return e},e}function h(){var e=(0,r.Z)(["\n  fragment ReplPostRepl on Repl {\n    id\n    ...ReplPostReplInfoRepl\n    ...LikeButtonRepl\n    ...ReplStatsRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function p(){var e=(0,r.Z)(["\n  fragment ReplPostReplComment on ReplComment {\n    id\n    body\n    timeCreated\n    user {\n      id\n      ...ReplPostRecentCommentUser\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,r.Z)(["\n  fragment ReplPostPost on Post {\n    id\n    title\n    timeCreated\n    isPinned\n    isAnnouncement\n    ...ReplViewPostActionPermissions\n    replComment {\n      id\n      body(removeMarkdown: true)\n    }\n    repl {\n      id\n      ...ReplViewReplActionsPermissions\n      ...ReplPostRepl\n    }\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n    recentReplComments {\n      id\n      ...ReplPostReplComment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function y(){var e=(0,r.Z)(["\n  fragment ReplPostCurrentUser on CurrentUser {\n    id\n    ...LikeButtonCurrentUser\n    ...ReplViewReplActionsCurrentUser\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}var x=(0,i.Ps)(u()),g=(0,i.Ps)(h(),x,a.R7,c.T,s.M),w=(0,i.Ps)(p(),d.b),v=(0,i.Ps)(f(),l.K4,l.jN,g,o.n,w),Z=(0,i.Ps)(y(),a.wO,l.o3)},10160:function(e,t,n){n.d(t,{T:function(){return l}});var r=n(43119);function i(){var e=(0,r.Z)(["\n  fragment ReplStatsRepl on Repl {\n    id\n    likeCount\n    runCount\n    commentCount\n  }\n"]);return i=function(){return e},e}var l=(0,n(71440).Ps)(i())},868:function(e,t,n){n.d(t,{n:function(){return a}});var r=n(43119),i=n(71440),l=n(8619);function o(){var e=(0,r.Z)(["\n  fragment ReplPostUserPostUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return o=function(){return e},e}var a=(0,i.Ps)(o(),l._)},9682:function(e,t,n){n.d(t,{B5:function(){return v},Cn:function(){return m},Zd:function(){return w}});var r=n(72006),i=n(43119),l=n(71440),o=n(35264),a=n(50531),c=n(34686),s=n(6257),d=n(23570),u=n(47513),h=n(65522),p=n(50216);function f(){var e=(0,i.Z)(["\n  fragment ReplViewRepl on Repl {\n    id\n    title\n    timeCreated\n    imageUrl\n    analyticsUrl\n    releasesForkCount\n    publicForkCount\n    examples {\n      id\n      ...ReplPostReplCardRepl\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n    relatedRepls(limitPerGroup: 3) {\n      name\n      repls {\n        id\n        publishedAs\n        ...ReplLinkRepl\n        ...TemplateReplCardRepl\n        ...ReplPostReplCardRepl\n      }\n    }\n    lang {\n      id\n      displayName\n    }\n    currentUserPermissions {\n      containerWrite\n      publish\n      changeIconUrl\n    }\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    ...ReplViewReplTitleRepl\n    ...ReplViewReplViewerRepl\n    ...ReplLinkRepl\n    ...ReplViewFooterRepl\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function y(){var e=(0,i.Z)(["\n  fragment ReplViewCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    ...ReplViewReplViewerCurrentUser\n    ...ReplViewReplActionsCurrentUser\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation ReplViewSetReplExamples($input: SetReplExamplesInput!) {\n    setReplExamples(input: $input) {\n      ... on Repl {\n        id\n        examples {\n          id\n          ...ReplPostReplCardRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}var g={},w=(0,l.Ps)(f(),o.n,a.Y,c.qb,s.rv,d.Q,u.A),v=(0,l.Ps)(y(),d.r,h.o3),Z=(0,l.Ps)(x(),o.n);function m(e){var t=(0,r.Z)({},g,e);return p.D(Z,t)}},47513:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(43119),i=n(71440),l=n(50531);function o(){var e=(0,r.Z)(["\n  fragment ReplViewSourceRepl on Repl {\n    id\n    iconUrl\n    title\n    templateLabel\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n"]);return o=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment ReplViewFooterRepl on Repl {\n    id\n    description\n    lastPublishedAt\n    timeCreated\n    publishedAs\n    runCount\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n    }\n    source {\n      release {\n        id\n      }\n      deployment {\n        id\n        repl {\n          id\n          ...ReplViewSourceRepl\n        }\n      }\n    }\n    tags {\n      id\n    }\n    origin {\n      id\n      ...ReplViewSourceRepl\n    }\n  }\n  ","\n"]);return a=function(){return e},e}var c=(0,i.Ps)(o(),l.Y),s=(0,i.Ps)(a(),c)},67012:function(e,t,n){n.d(t,{Gx:function(){return Z},ZP:function(){return R}});var r=n(72006),i=n(4405),l=n(2272),o=n(74985),a=(n(50959),n(43312)),c=n(18128),s=n(26473),d=n(69959),u=n(88965),h=n(9434),p=n(6108),f=n(16296),y=n(95141),x=n(37268),g=n(6385),w=n(53312),v=n(70193),Z=(0,a.iv)([p.gU.filled,u.l0.p(8),u.l0.height(32),{width:"auto"}]),m=(0,a.iv)([u.l0.flex.row,u.l0.align.center,u.l0.backgroundColor.backgroundHighest,u.l0.borderRadius(8),u.l0.p(8),u.l0.height(32)]);function R(e){var t=e.repl,n=e.currentUser,a=e.surface,p=void 0===a||a,R=(0,l.Z)((0,c.lU)(),2),b=R[0],k=R[1].loading,C=(0,o.BX)(o.HY,{children:[(null===n||void 0===n?void 0:n.isVerified)&&(0,o.tZ)(y.zx,{css:[p&&Z],disabled:k,onClick:function(){t.currentUserDidLike||(0,h.j)(h.U3.REACTED_TO_REPL,{replView:"https://replit.com"+t.url,reaction:"heart",isReplTalk:!1,item:"repl",isCommunityPublish:t.wasPosted,isAppPublish:t.wasPublished}),b({variables:{input:{replId:t.id}},optimisticResponse:{__typename:"RootMutationType",toggleReplLike:(0,i.Z)((0,r.Z)({},t),{likeCount:Math.max(0,t.likeCount+(t.currentUserDidLike?-1:1)),currentUserDidLike:!t.currentUserDidLike})}})},iconLeft:t.currentUserDidLike?(0,o.tZ)(v.Z,{}):(0,o.tZ)(d.Z,{}),text:t.likeCount>0?(0,g.d)(t.likeCount):""}),n&&!n.isVerified&&(0,o.BX)(s.G,{css:m,children:[(0,o.tZ)(f.hU,{alt:"Verify your email to like",css:p&&Z,disabled:!0,children:(0,o.tZ)(d.Z,{})}),(0,o.tZ)(w.xv,{color:"dimmer",multiline:!1,children:(0,g.d)(t.likeCount)})]}),!n&&(0,o.BX)(s.G,{css:m,children:[(0,o.tZ)(f.hU,{alt:"Log in to like",css:p&&Z,disabled:!0,children:(0,o.tZ)(d.Z,{})}),(0,o.tZ)(w.xv,{color:"dimmer",multiline:!1,children:(0,g.d)(t.likeCount)})]})]});return p?(0,o.tZ)(x.Tg,{background:"default",css:[u.l0.borderRadius(8)],children:C}):(0,o.tZ)(s.G,{children:C})}},6257:function(e,t,n){n.d(t,{cu:function(){return p},rv:function(){return u}});var r=n(72006),i=n(43119),l=n(71440),o=n(65522),a=n(50216);function c(){var e=(0,i.Z)(["\n  fragment ReplViewReplTitleRepl on Repl {\n    id\n    title\n    iconUrl\n    templateInfo {\n      iconUrl\n    }\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    ...ReplViewReplActionsPermissions\n  }\n  ","\n"]);return c=function(){return e},e}function s(){var e=(0,i.Z)(["\n  mutation ReplViewReplTitleUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplViewReplTitleRepl\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var d={},u=(0,l.Ps)(c(),o.jN),h=(0,l.Ps)(s(),u);function p(e){var t=(0,r.Z)({},d,e);return a.D(h,t)}},23570:function(e,t,n){n.d(t,{Q:function(){return u},r:function(){return h}});var r=n(43119),i=n(71440),l=n(12928),o=n(24981),a=n(18128),c=n(23023);function s(){var e=(0,r.Z)(["\n  fragment ReplViewReplViewerRepl on Repl {\n    id\n    publishedAs\n    runCount\n    publicForkCount\n    releasesForkCount\n    prodUrl: hostedUrl(dotty: true)\n    isProject\n    nextPagePathname\n    lang {\n      id\n      header\n      displayName\n    }\n    ...ReplViewerOutputOverlayRepl\n    ...UseReplViewerRepl\n    ...LikeButtonRepl\n  }\n  ","\n  ","\n  ","\n"]);return s=function(){return e},e}function d(){var e=(0,r.Z)(["\n  fragment ReplViewReplViewerCurrentUser on CurrentUser {\n    id\n    ...LikeButtonCurrentUser\n    ...CrosisContextCurrentUser\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}var u=(0,i.Ps)(s(),l.sI,o.gh,a.R7),h=(0,i.Ps)(d(),a.wO,c.D)},86879:function(e,t,n){n.d(t,{y6:function(){return xt},DZ:function(){return ut},ZP:function(){return gt}});var r=n(57135),i=n(57389),l=n(72006),o=n(2272),a=n(96583),c=n(74985),s=n(43182),d=n(61004),u=n(4221),h=n(35509),p=n(98304),f=n(60819),y=n(50959),x=n(88965),g=n(9434),w=n(6108),v=n(95141),Z=n(37268),m=n(6385),R=n(43119),b=n(71440),k=n(98016),C=n(24635);function U(){var e=(0,R.Z)(["\n  query TotalTipsRepl($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        user {\n          ... on User {\n            id\n            username\n            ...IsTippingAvailableForRecipient\n          }\n        }\n        totalCyclesTips\n      }\n    }\n    currentUser {\n      id\n      ...IsTippingAvailableForSender\n    }\n  }\n  ","\n  ","\n"]);return U=function(){return e},e}var P={},S=(0,b.Ps)(U(),k.R1,k.rd);var E=n(90114),T=n(79097),F=n(79451);function N(e){var t,n=e.repl,r=function(e){var t=(0,l.Z)({},P,e);return C.a(S,t)}({variables:{id:n.id}}),o=r.data;if(r.loading)return null;var a="CurrentUser"===(null===o||void 0===o||null===(t=o.currentUser)||void 0===t?void 0:t.__typename)?o.currentUser:null,s="Repl"===(null===o||void 0===o?void 0:o.repl.__typename)?o.repl:null;return(0,T.L)({replOwner:null===s||void 0===s?void 0:s.user,currentUser:a})&&s?(0,c.tZ)(Z.Tg,{background:"default",css:[x.l0.borderRadius(8),(0,i.Z)({},(0,F.EM)("mobileMax"),[x.l0.display.none])],children:(0,c.tZ)(v.zx,{css:[w.gU.filled,x.l0.p(8),{width:"auto"}],onClick:function(){(0,g.j)(g.U3.TIP_USED,{action:"total-tips-button-clicked",repl:n.url,item:"repl"});var e=document.getElementById("tips");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},iconLeft:(0,c.tZ)(E.Z,{}),text:"".concat((0,m.d)(s.totalCyclesTips||0)," tips")})}):null}var V=n(7653);function I(){return Boolean(function(){var e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullscreenElement}())}var L=n(25404),_=n(92361),D=n(85919),A=n(63824),O=n(46130),G=n(67012),B=n(16296),j=n(53312),z=n(26473),X=n(91148),M=n(61025),H=n(84761),W=n(58292),q=n(8367),Y=n(27773),$=n(87093),K=n(6046),Q=n(33672),J=n(32688),ee=n(33033),te=n(28639),ne=n(70189),re=n(84079),ie=n(65611),le=n(94965),oe=n(20387),ae=n(73437),ce=n(13218),se=n(51631),de=n(90171),ue=n(67121),he=n(4561),pe=n(48306),fe=n.n(pe),ye=n(87978),xe=n(94749),ge=n(22011),we=X.j.tabletMin,ve=n(73194),Ze=n.n(ve),me=n(87693),Re=function(){var e=(0,r.Z)((function(){return(0,a.__generator)(this,(function(e){return[2,Promise.all([n.e(6655),n.e(3668)]).then(n.t.bind(n,63668,23)).then((function(e){return e.Excalidraw}))]}))}));return function(){return e.apply(this,arguments)}}(),be=Ze()(Re,{ssr:!1,loading:function(){return null}});function ke(e){var t=e.contents,n=e.key,r={scrollToContent:!0};try{r=(0,l.Z)({},r,JSON.parse(t||"{}"))}catch(o){}var i=(0,me.F)().isDarkColorScheme;return(0,c.BX)("div",{className:"jsx-a3a0d25f100f396c excalidraw-repl-view-wrapper",children:[(0,c.tZ)(be,{viewModeEnabled:!0,initialData:r,theme:i?"dark":"light"}),(0,c.tZ)(fe(),{id:"a3a0d25f100f396c",children:".excalidraw-repl-view-wrapper{cursor:all-scroll;height:100%;width:100%}.excalidraw-repl-view-wrapper .excalidraw .App-toolbar-content{display:none}"})]},n)}var Ce=n(32681),Ue=n.n(Ce),Pe=n(2462);function Se(e){var t=e.contents,n=e.isKbmsprite,r=y.useRef(null);return y.useEffect((function(){var e=r.current;if(e){e.width=e.offsetWidth,e.height=e.offsetHeight;var i=JSON.parse(t),l=Ue()({canvas:e,data:n?(0,Pe.C)(i):i,readonly:!0});return function(){l.cleanUp()}}}),[t,n]),(0,c.tZ)("canvas",{ref:r,className:"jsx-93826966b3fae22 pedit",children:(0,c.tZ)(fe(),{id:"93826966b3fae22",children:".pedit.jsx-93826966b3fae22{width:100%;height:100%}"})})}var Ee=n(12562);function Te(e,t){return(0,l.Z)({},e,t)}var Fe={isLoading:!1,result:null,error:null,fileViewerType:null};var Ne=n(12235),Ve=n(43312),Ie=(0,Ve.F4)({"0%":{opacity:0},"100%":{opacity:.5}}),Le=(0,Ve.iv)({overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:0,animation:"".concat(Ie," 200ms 250ms linear forwards"),height:"100%","@media (prefers-reduced-motion: reduce)":{animationDuration:"0ms",animationDelay:"400ms"}}});function _e(){var e=(0,y.useId)();return(0,c.tZ)(z.G,{css:Le,children:(0,c.BX)(Ne.Z,{speed:2,backgroundColor:x.TV.backgroundHighest,foregroundColor:x.TV.backgroundHigher,uniqueKey:e,children:[(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"0",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"0",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"0",width:"144",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"280",y:"0",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"420",y:"0",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"476",y:"0",width:"144",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"20",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"20",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"20",width:"192",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"20",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"384",y:"20",width:"312",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"40",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"40",width:"0",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"60",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"60",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"80",y:"60",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"124",y:"60",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"60",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"60",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"352",y:"60",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"408",y:"60",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"60",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"60",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"60",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"644",y:"60",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"80",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"80",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"80",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"80",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"80",width:"108",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"296",y:"80",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"364",y:"80",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"396",y:"80",width:"108",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"100",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"100",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"100",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"100",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"276",y:"100",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"120",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"120",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"120",width:"96",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"268",y:"120",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"336",y:"120",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"140",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"140",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"140",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"140",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"324",y:"140",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"140",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"140",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"140",width:"156",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"160",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"160",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"160",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"160",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"372",y:"160",width:"144",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"180",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"180",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"200",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"200",width:"0",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"220",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"220",width:"96",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"220",width:"264",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"220",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"240",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"240",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"240",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"196",y:"240",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"216",y:"240",width:"312",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"260",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"260",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"260",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"260",width:"120",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"260",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"344",y:"260",width:"120",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"472",y:"260",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"260",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"608",y:"260",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"280",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"280",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"280",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"280",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"280",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"224",y:"280",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"280",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"348",y:"280",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"280",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"508",y:"280",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"280",width:"144",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"300",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"300",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"300",width:"216",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"300",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"360",y:"300",width:"96",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"300",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"544",y:"300",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"320",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"320",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"320",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"340",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"340",width:"60",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"340",width:"72",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"244",y:"340",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"340",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"340",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"340",width:"144",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"360",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"360",width:"96",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"200",y:"360",width:"144",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"380",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"380",width:"108",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"380",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"400",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"400",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"420",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"420",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"440",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"440",width:"0",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"460",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"460",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"460",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"460",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"460",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"460",width:"144",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"480",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"480",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"480",width:"36",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"172",y:"480",width:"48",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"228",y:"480",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"248",y:"480",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"500",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"500",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"500",width:"12",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"520",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"520",width:"132",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"540",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"540",width:"300",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"540",width:"204",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"560",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"560",width:"24",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"580",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"580",width:"84",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"580",width:"156",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"600",width:"32",height:"15"}),(0,c.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"600",width:"24",height:"15"})]})})}var De=n(77637),Ae=n(20476),Oe=n(7986),Ge=n(39995);function Be(e){var t=e.code,n=e.fontSize,r=e.hideGutter,i=(0,Ge.Z)().preferences;return(0,c.tZ)("code",{css:[x.l0.p(4),x.l0.pl(4),x.l0.pr(2),!r&&x.l0.pl(64),x.l0.font.code,x.l0.fontSize(n||x.TV.fontSizeDefault),{lineHeight:x.TV.lineHeightSmall,overflowX:"auto",tabSize:i.indentSize},i.wrapping?{wordBreak:"break-word",whiteSpace:"break-spaces",overflowWrap:"anywhere"}:{whiteSpace:"pre"}],children:t})}function je(e){var t=e.code,n=(0,De.Z)(e,["code"]),r=(0,o.Z)(y.useState(!1),2),i=r[0],a=r[1],s=(0,Oe.Z)(),d=s.ref,u=s.view;y.useEffect((function(){if(u)return a(!0),function(){return a(!1)}}),[u]),y.useEffect((function(){u&&u.dispatch({changes:{from:0,to:u.state.doc.length,insert:t}})}),[t,u]);var h=!i;return(0,c.BX)(c.HY,{children:[(0,c.tZ)(Ae.ZP,(0,l.Z)({ref:d,css:{height:h?0:"auto"},initialDoc:t,readOnly:!0},n)),h&&(0,c.tZ)(Be,(0,l.Z)({code:t},n))]})}var ze=n(69118);function Xe(e){var t=e.fs,n=e.deeplink,r=null===n||void 0===n?void 0:n.path,i=function(e){var t=e.fs,n=e.path,r=(0,o.Z)(y.useReducer(Te,Fe),2),i=r[0],l=r[1];return y.useEffect((function(){if(n){var e=!1,r=(0,Ee.V)(n);return l({isLoading:!0,fileViewerType:r}),t.readFile(n).then((function(t){e||(t.error?l({isLoading:!1,result:null,error:{path:n,fileViewerType:r,error:t.error}}):l({isLoading:!1,result:{path:n,fileViewerType:r,content:t.content},error:null}))})),function(){e=!0}}l(Fe)}),[t,n]),i}({fs:t,path:r});return(0,c.BX)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" file-viewer",children:[(0,c.BX)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" content",children:[!i.isLoading&&i.result&&i.result.fileViewerType===Ee.D.Media?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" media",children:(0,c.tZ)(xe.A,{content:ge.Z.from(i.result.content).toString("base64"),mime:(0,ye.yC)(i.result.path)})}):null,i.isLoading&&i.fileViewerType===Ee.D.Media?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" file-loader",children:(0,c.tZ)(_e,{})}):null,!i.isLoading&&i.result&&i.result.fileViewerType===Ee.D.Markdown?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" markdown",children:(0,c.tZ)(ze.Z,{path:i.result.path,source:i.result.content.toString(),fs:t,sourcePos:!1})}):null,i.isLoading&&i.fileViewerType===Ee.D.Markdown?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" file-loader",children:(0,c.tZ)(_e,{})}):null,!i.isLoading&&i.result&&i.result.fileViewerType===Ee.D.Draw?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" draw",children:(0,c.tZ)(ke,{contents:i.result.content.toString()},i.result.path)}):null,i.isLoading&&i.fileViewerType===Ee.D.Draw?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" file-loader",children:(0,c.tZ)(_e,{})}):null,!i.isLoading&&i.result&&i.result.fileViewerType===Ee.D.Code?(0,c.tZ)(je,{filePath:i.result.path,code:i.result.content.toString(),fontSize:14}):null,i.isLoading&&i.fileViewerType===Ee.D.Code?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" file-loader",children:(0,c.tZ)(_e,{})}):null,!i.isLoading&&i.result&&i.result.fileViewerType===Ee.D.Pedit?(0,c.tZ)(Se,{contents:i.result.content.toString(),isKbmsprite:!!(null===r||void 0===r?void 0:r.endsWith(".kbmsprite"))}):null,!i.isLoading&&i.error?(0,c.tZ)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]])+" error",children:(0,c.BX)("div",{className:fe().dynamic([["f74f0b1704ced26e",[we]]]),children:["Could not load ",i.error.path]})}):null]}),(0,c.tZ)(fe(),{id:"f74f0b1704ced26e",dynamic:[we],children:".file-viewer.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;align:stretch;height:100%;width:100%}.markdown.__jsx-style-dynamic-selector{word-break:break-word;max-width:840px;margin:0 auto;padding:var(--space-16);overflow-y:auto;position:relative;height:100%}.draw.__jsx-style-dynamic-selector{height:100%;width:100%}.file-tree.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);overflow:auto;display:none}.content.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;height:100%;overflow-y:auto;position:relative}.file-loader.__jsx-style-dynamic-selector{width:100%;padding:var(--space-16);position:absolute;top:0;left:0;z-index:100;opacity:0;-webkit-animation:fadeIn ease 0s forwards;-moz-animation:fadeIn ease 0s forwards;-o-animation:fadeIn ease 0s forwards;animation:fadeIn ease 0s forwards;-webkit-animation-delay:200ms;-moz-animation-delay:200ms;-o-animation-delay:200ms;animation-delay:200ms}.media.__jsx-style-dynamic-selector,.error.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-moz-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@media screen and (min-width:".concat(we,"px){.file-tree.__jsx-style-dynamic-selector{display:block;width:260px}}")})]})}var Me=n(88031),He=n(45323),We=n(87223),qe=n(12583),Ye=n(59519),$e=n(66860),Ke=n(59253),Qe=n(20575),Je=n(86093);var et=(0,Je.$)(["pointerEvents","translateX"]),tt=et.cssVars,nt=et.styleTokens,rt=(0,M.X)({root:[{zIndex:101,position:"absolute",top:0,left:0,height:"100%",overflow:"hidden",pointerEvents:nt.pointerEvents}],surface:[{height:"100%",width:200,transition:"transform ".concat(160,"ms"),transform:"translateX(".concat(nt.translateX,")"),borderRight:"solid 1px var(--outline-dimmer)"}],container:[x.l0.flex.growAndShrink(1)],header:[x.l0.rowWithGap(4),x.l0.p(8),x.l0.justify.spaceBetween],filetreeContainer:[x.l0.position.relative,x.l0.flex.growAndShrink(1)],inner:[x.l0.coverContainer,x.l0.flex.growAndShrink(1)],loader:[x.l0.justify.start,x.l0.position.absolute,{top:2,left:8,overflow:"hidden"}]});function it(e){var t,n=(0,y.useState)(!1),r=n[0],l=n[1],o=(0,y.useState)(!1),a=o[0],s=o[1],d=function(e){var t=e.dotReplit,n=e.language,r=e.areHiddenFilesVisible,i=(0,$e.P)(t);return(0,y.useCallback)((function(e){var t=e.filename;return!(0,Ke.MF)(t)&&(!!r||!((0,Ke.uC)(t)||(0,Qe.C)(t)||(0,Ke.yb)(t,n)||(0,Ke.lv)(t,i)))}),[n,r,i])}({language:e.language,dotReplit:e.dotReplit,areHiddenFilesVisible:a}),u=(0,Me.p)({fs:e.fs,filter:d,manageWidth:!0,onFileSelect:function(t){var n=t.path;e.onNodeClick({path:n,type:he.Tv.File})},readOnly:!0,onLoad:function(){return l(!0)}}),h=e.activePath;return(0,y.useEffect)((function(){u.select(h?{type:he.Tv.File,path:h}:null)}),[u,h]),(0,c.tZ)(z.G,{css:rt.root,style:(t={},(0,i.Z)(t,tt.pointerEvents,e.isOpen?"all":"none"),(0,i.Z)(t,tt.translateX,(e.isOpen?0:-200)+"px"),t),children:(0,c.tZ)(Z.Tg,{elevated:!0,css:rt.surface,children:(0,c.tZ)(He.Z,{children:(0,c.BX)(z.G,{css:rt.container,children:[(0,c.BX)(z.G,{css:rt.header,children:[(0,c.tZ)(j.h4,{level:3,variant:"subheadDefault",children:"Files"}),(0,c.tZ)(We.ZP,{actions:[a?We.st.HideHiddenFiles:We.st.ShowHiddenFiles],onAction:function(e){switch(e.type){case We.st.ShowHiddenFiles.type:return void s(!0);case We.st.HideHiddenFiles.type:s(!1)}}})]}),(0,c.BX)(z.G,{css:rt.filetreeContainer,children:[r?null:(0,c.tZ)(z.G,{css:rt.loader,children:(0,c.tZ)(Ye.Z,{path:qe.Ql})}),(0,c.tZ)(z.G,{css:rt.inner,style:{opacity:r?1:0},children:(0,c.tZ)(Me.s,{store:u.store})})]})]})})})})}var lt=n(77006),ot=n(35244),at="1px solid "+x.TV.outlineDimmer,ct=(0,M.X)({loadingIconContainer:[x.l0.center,x.l0.width("100%"),x.l0.height("100%")]});function st(e){var t=e.children;return(0,c.tZ)(z.G,{tag:"header",css:[{borderBottom:at},x.l0.p(8),x.l0.rowWithGap(8),x.l0.align.center],children:t})}var dt=z.K.a;function ut(e){var t=e.runCount,n=e.runState,r=e.connectionState,i=e.run,o=e.stop,a=e.publishedAs,s=e.stretch,d=n===te.Ah.RUNNING?(0,c.tZ)(J.Z,{fill:"currentColor"}):(0,c.tZ)(Q.Z,{fill:"currentColor"}),u=a===se.O2.Template?"Run example":"Run",h=r===ee.em.CONNECTING;return n===te.Ah.RUNNING&&(u="Stop"),h&&(u="Loading..."),(0,c.tZ)(v.zx,(0,l.Z)({stretch:s,colorway:n===te.Ah.RUNNING||r===ee.em.CONNECTING||a===se.O2.Template?void 0:"positive",dataCy:"repl-viewer-run-button",disabled:h,onClick:function(){switch(n){case te.Ah.IDLE:case te.Ah.OFFLINE:i();break;case te.Ah.RUNNING:o()}},iconLeft:d,text:u},t>0&&{secondaryText:(0,m.d)(t)}))}function ht(e){var t=e.innerRef,n=e.children;return(0,c.tZ)(Z.Tg,{elevated:!0,css:[{border:at},x.l0.borderRadius(8),x.l0.overflow("hidden")],innerRef:t,children:n})}function pt(e){var t=e.src;return(0,c.tZ)(z.G,{css:[x.l0.width("100%"),x.l0.height("100%")],children:(0,c.tZ)(z.G,(0,l.Z)({tag:"iframe",src:t,css:[x.l0.width("100%"),x.l0.height("100%"),{position:"absolute",backgroundColor:"white",display:"block",border:"none",top:0,left:0}]},A.Z))})}var ft=z.K.div;function yt(e){var t=e.repl,n=e.currentUser,r=e.enableDeeplinks,l=e.isFromProfile,a=e.hideTotalTips,s=e.hideLike,d=(0,ot.Z)({enableDeeplinks:Boolean(r),repl:t,currentUser:n}),u=d.openFile,h=d.viewState,p=d.fs,f=d.dotReplit,w=d.runRepl,m=d.stopRepl,R=d.runState,b=d.connectionState,k=d.bsodId,C=d.isFileTreeOpen,U=d.setIsFileTreeOpen,P=d.showUrlOutput,S=d.nonBsodUnrecoverableError,E=y.useRef(null),T=(0,L.Z)().showError,F=(0,de.useRouter)(),V=function(){var e=(0,o.Z)(y.useState(I()),2),t=e[0],n=e[1];return y.useEffect((function(){var e=function(){n(I())};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}})),t}(),_="code"===(null===h||void 0===h?void 0:h.type)&&h.deeplink,D=(0,o.Z)(y.useState(_?_.path:null),2),A=D[0],M=D[1];(0,y.useEffect)((function(){M(_?_.path:null)}),[_,null===h||void 0===h?void 0:h.type]);var Y=!s&&!(0,O.Vg)(F),Q=!a&&!(0,O.Vg)(F);return k?(0,c.tZ)(re.Z,{}):S===ue.Gs.NotAllowed?(0,c.tZ)(le.Z,{isOpen:!0}):S===ue.Gs.RequiresRefresh?(0,c.tZ)(oe.Z,{isOpen:!0}):(0,c.tZ)(ie.Z,{bsod:!0,origin:"replView: ErrorBoundary",children:(0,c.BX)(ht,{innerRef:E,children:[(0,c.BX)(st,{children:[(0,c.BX)(z.G,{css:[x.l0.flex.growAndShrink(1),x.l0.rowWithGap(8)],children:[(0,c.BX)(z.G,{css:[x.l0.rowWithGap(4),x.l0.align.center],children:[(0,c.tZ)(v.zx,{iconLeft:(0,c.tZ)(H.Z,{}),text:C?"Hide code":"Show code",onClick:function(){return U((function(e){return!e}))},css:(0,i.Z)({},"@media (max-width: ".concat(X.j.mobileMax,"px)"),{display:"none"})}),(0,c.tZ)(Z.Tg,{background:"default",css:[x.l0.borderRadius(8),(0,i.Z)({},"@media (min-width: ".concat(X.j.mobileMax+1,"px)"),{display:"none"})],children:(0,c.tZ)(B.hU,{css:G.Gx,alt:C?"Hide files":"Show files",onClick:function(){return U((function(e){return!e}))},children:(0,c.tZ)(q.Z,{})})})]}),P||"server"===(null===h||void 0===h?void 0:h.type)?(0,c.tZ)(z.G,{css:[x.l0.center],onClick:function(){(0,g.j)(g.U3.COVER_PAGE_NEW_TAB_OPENED,{source:l?"profilePage":"coverPage"})},children:(0,c.BX)(dt,{css:[x.l0.rowWithGap(4),x.l0.color.foregroundDimmer,x.l0.px(4),x.l0.align.center,x.l0.focusRing,x.l0.borderRadius(8),x.l0.p(8),{transition:"color 120ms ease-out",":hover":{color:x.TV.foregroundDefault}}],href:t.prodUrl,target:"_blank",children:[(0,c.tZ)(W.Z,{}),(0,c.tZ)(j.xv,{height:"singleLine",multiline:!1,children:(0,c.tZ)("span",{css:(0,i.Z)({},"@media (max-width: ".concat(X.j.mobileMax+20,"px)"),{display:"none"}),children:"Open website"})})]})}):null]}),(0,c.BX)(z.G,{css:[x.l0.rowWithGap(8),x.l0.align.center],children:[E.current&&document.fullscreenEnabled?(0,c.tZ)(B.hU,{alt:V?"Exit fullscreen":"Enter fullscreen",css:G.Gx,onClick:function(){var e=E.current;e?V?function(){var e=document;e.exitFullscreen?e.exitFullscreen():e.mozExitFullScreen?e.mozExitFullScreen():e.webkitExitFullScreen&&e.webkitExitFullScreen()}():(!function(e){var t=e;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()}(e),(0,g.j)(g.U3.REPL_VIEWER_FULLSCREEN_ENTERED,{location:l?"profile":"coverpage"})):T("Failed to enter fullscreen mode")},children:V?(0,c.tZ)(K.Z,{}):(0,c.tZ)($.Z,{})}):null,Q?(0,c.tZ)(N,{repl:t}):null,Y?(0,c.tZ)(G.ZP,{repl:t,currentUser:n}):null,(0,c.tZ)(ut,{runCount:t.runCount,runState:R,connectionState:b,publishedAs:t.publishedAs,run:w,stop:m})]})]}),(0,c.tZ)(xt,{repl:t,runRepl:w,viewState:h,connectionState:b,activePath:A,isFileTreeOpen:C,setIsFileTreeOpen:U,openFile:u,fs:p,dotReplit:f})]})})}function xt(e){var t=e.repl,n=e.runRepl,r=e.viewState,i=e.connectionState,l=e.activePath,o=e.isFileTreeOpen,a=e.setIsFileTreeOpen,s=e.openFile,d=e.fs,u=e.dotReplit,h=(0,y.useState)(!1),g=h[0],w=h[1],v=(0,_.Z)((function(e){void 0!==e.width&&w(e.width<=500)})),Z=i===ee.em.CONNECTING&&!o,m=(0,c.BX)(c.HY,{children:[null===r?(0,c.tZ)(lt.Z,{repl:t,onClick:n}):null,"server"===(null===r||void 0===r?void 0:r.type)?(0,c.tZ)(pt,{src:r.previewUrl}):null,"vnc"===(null===r||void 0===r?void 0:r.type)?(0,c.tZ)(ce.Z,{fs:r.fs,container:r.container}):null,"deprecationNotice"===(null===r||void 0===r?void 0:r.type)?(0,c.BX)(z.G,{css:[x.l0.center,x.l0.p(16),x.l0.height("100%")],children:[(0,c.BX)(j.xv,{variant:"subheadDefault",children:['Running "',t.lang.displayName,'" is no longer supported.'," "]}),(0,c.tZ)(f.Z,{feature:p.l.General})]}):null,"terminal"===(null===r||void 0===r?void 0:r.type)?(0,c.tZ)(z.G,{css:[x.l0.height("100%"),x.l0.width("100%"),x.l0.position.relative,{overflow:"hidden"}],children:(0,c.tZ)(ae.Z,{packager:r.packager,runner:r.runner,openFile:s,listFiles:d.listFiles})}):null,"code"===(null===r||void 0===r?void 0:r.type)?(0,c.tZ)(z.G,{css:[x.l0.height("100%"),x.l0.flex.growAndShrink(1),{position:"relative",overflow:"hidden",transition:"margin ".concat(160,"ms"),marginLeft:o&&!g?200:0}],onClick:function(){g&&a(!1)},children:(0,c.tZ)(Xe,{fs:r.fs,deeplink:r.deeplink})}):null]});return(0,c.BX)(ft,{ref:function(e){v(e)},css:[x.l0.flex.growAndShrink(1),{position:"relative"}],children:[Z?(0,c.tZ)(z.G,{css:ct.loadingIconContainer,children:(0,c.tZ)(Y.Z,{})}):m,(0,c.tZ)(it,{isOpen:o,language:t.lang.id,activePath:l,onNodeClick:function(e){e.type!==he.Tv.Directory&&(s({path:e.path}),g&&a(!1))},fs:d,dotReplit:u})]})}function gt(e){var t=e.repl,n=e.currentUser,i=e.enableDeeplinks,l=e.isFromProfile,o=e.hideTotalTips,p=e.hideLike,f=(0,d.L)().user,x=(0,y.useState)(!1),g=x[0],w=x[1],v=(0,D.Z)((function(){return{id:t.id,slug:t.slug,language:t.language}}),[t.id,t.language,t.slug]);return y.useEffect((function(){n||f?w(!0):(0,h.vk)().then(function(){var e=(0,r.Z)((function(e){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return"success"!==e.type?[3,2]:[4,(0,u.x6)(e.result.user)];case 1:t.sent(),t.label=2;case 2:return w(!0),[2]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return s.Tb(e)}))}),[n,f]),g?(0,c.tZ)(ne.Z.Provider,{value:v,children:(0,c.tZ)(V.S2,{children:(0,c.tZ)(yt,{isFromProfile:l,repl:t,currentUser:n,enableDeeplinks:i,hideTotalTips:o,hideLike:p})})}):(0,c.tZ)(ht,{})}},24981:function(e,t,n){n.d(t,{gh:function(){return u},yo:function(){return p}});var r=n(72006),i=n(43119),l=n(71440),o=n(23023),a=n(50216);function c(){var e=(0,i.Z)(["\n  fragment UseReplViewerRepl on Repl {\n    id\n    previewUrl: hostedUrl(dotty: false, dev: false)\n    url\n    wasPosted\n    wasPublished\n    publishedAs\n    isProject\n    lang {\n      id\n      canUseShellRunner\n    }\n    config {\n      isServer\n      isVnc\n    }\n    deployment {\n      id\n      activeRelease {\n        id\n        previewUrl: hostedUrl\n      }\n    }\n    replViewSettings {\n      id\n      defaultView\n      replFile\n    }\n    ...CrosisContextRepl\n  }\n  ","\n"]);return c=function(){return e},e}function s(){var e=(0,i.Z)(["\n  mutation UserReplViewCreateReplRun($replId: String!) {\n    createReplRun(replId: $replId) {\n      ... on Repl {\n        id\n        runCount\n      }\n    }\n  }\n"]);return s=function(){return e},e}var d={},u=(0,l.Ps)(c(),o.C),h=(0,l.Ps)(s());function p(e){var t=(0,r.Z)({},d,e);return a.D(h,t)}},35244:function(e,t,n){n.d(t,{Z:function(){return F}});var r=n(57135),i=n(2272),l=n(96583),o=n(50959),a=n(51631),c=n(24981),s=n(96073),d=n(33033),u=n(28639),h=n(34860),p=n(97746),f=n(4520),y=n(22946),x=n(10702),g=n(62069);var w=n(9434),v=n(10210),Z=n(4561),m=".lesson/lessonplan.md";function R(e){var t=e.fs,n=e.container,r=e.dotReplit,l=e.skip,a=e.preferredFile,c=(0,i.Z)(o.useState(null),2),s=c[0],u=c[1],h=function(e){var t,n=(0,i.Z)(o.useState(null===(t=e.getContext())||void 0===t?void 0:t.repl.id),2),r=n[0],l=n[1];return o.useEffect((function(){return e.onConnectionStateChanged((function(t){var n;t===d.em.CONNECTING&&l(null===(n=e.getContext())||void 0===n?void 0:n.repl.id)}))}),[e]),r}(n);return o.useEffect((function(){if(!l&&h){var e=!1;return Promise.all([(0,v.W)({replId:h,dotReplit:r,fs:t}),"LessonPlan"===(null===a||void 0===a?void 0:a.type)?t.stat(m):null,"FilePath"===(null===a||void 0===a?void 0:a.type)?t.stat(a.path):null]).then((function(t){var n=(0,i.Z)(t,3),r=n[0],l=r.entrypoint,o=r.readmeFile,c=n[1],s=n[2];e||("LessonPlan"===(null===a||void 0===a?void 0:a.type)&&c&&c.exists&&c.type===Z.Tv.File?u(m):"FilePath"===(null===a||void 0===a?void 0:a.type)&&s&&s.exists&&s.type===Z.Tv.File?u(a.path):"Readme"===(null===a||void 0===a?void 0:a.type)&&o?u(o):l&&u(l))})),function(){e=!0}}}),[t,r,h,l,a]),s}var b=n(90171),k=n.n(b);var C,U=n(9558),P=n(25404),S=n(5670),E=n(17387),T=n(54981);function F(e){var t,n,v=e.currentUser,Z=e.repl,m=e.initialViewMode,b=e.enableDeeplinks,F=(0,o.useState)(null),N=F[0],V=F[1],I=(0,i.Z)((0,U.qg)(),2),L=I[0],_=I[1],D=(0,U.ic)(),A=(0,o.useState)(d.em.DISCONNECTED),O=A[0],G=A[1],B=(0,P.Z)().showError,j=(0,o.useState)(u.Ah.OFFLINE),z=j[0],X=j[1],M=(0,o.useState)((function(){return function(e){var t=e.onUnrecoverableError,n=(0,d.ZP)({onUnrecoverableError:t}),i=(0,p.Z)({container:n}),o=(0,x.Z)({container:n,fs:i}),a=(0,g.Z)({container:n,dotReplit:o}),c=(0,y.Z)({container:n});return{container:n,fs:i,runner:(0,f.Z)({container:n,toolchain:a,mode:"shellrunner",beforeRun:(0,r.Z)((function(){var e,t,n,r,i,o,s,d;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return[4,a.getConfigs()];case 1:if(!(null===(e=l.sent())||void 0===e?void 0:e.packagers))return[3,9];t=!0,n=!1,r=void 0,l.label=2;case 2:l.trys.push([2,7,8,9]),i=e.packagers[Symbol.iterator](),l.label=3;case 3:return(t=(o=i.next()).done)?[3,6]:(s=o.value).guessImports?[4,c.installPackages(s.id)]:[3,5];case 4:l.sent(),l.label=5;case 5:return t=!0,[3,3];case 6:return[3,9];case 7:return d=l.sent(),n=!0,r=d,[3,9];case 8:try{t||null==i.return||i.return()}finally{if(n)throw r}return[7];case 9:return[2]}}))}))}),dotReplit:o,packager:c}}({onUnrecoverableError:(0,S.Z)({origin:"replView: useReplViewer/services/onUnrecoverableError",onNonBsodUnrecoverableError:function(e){V(e)},throwBsod:_})})})),H=M[0],W=H.container,q=H.fs,Y=H.dotReplit,$=H.runner,K=H.packager,Q=(0,o.useRef)((0,s.u9)()),J=(null===(t=Z.replViewSettings)||void 0===t?void 0:t.defaultView)===a.dZ.ReplFile&&Z.replViewSettings.replFile?Z.replViewSettings.replFile:void 0,ee={type:"Readme"};Z.isProject?ee={type:"LessonPlan"}:J&&(ee={type:"FilePath",path:J});var te=m===C.Code||Q.current||J||(null===(n=Z.replViewSettings)||void 0===n?void 0:n.defaultView)!==a.dZ.ReplImage&&(Z.publishedAs===a.O2.Template||Z.isProject),ne=(0,o.useState)((function(){return te?{type:"code",fs:q,container:W,dotReplit:Y}:null})),re=ne[0],ie=ne[1],le=(0,o.useState)(Q.current),oe=le[0],ae=le[1],ce=(0,i.Z)(o.useState(null),2),se=ce[0],de=ce[1];(0,E.Z)((function(){"code"===(null===re||void 0===re?void 0:re.type)&&(0,w.j)(w.U3.COVER_PAGE_SOURCE_VIEWED)}),[null===re||void 0===re?void 0:re.type]);var ue=Boolean("code"===(null===re||void 0===re?void 0:re.type)&&!re.deeplink&&!Q.current),he=R({fs:q,dotReplit:Y,container:W,preferredFile:ee,skip:!ue});!function(e){var t=e.currentDeeplink,n=e.onChange,i=e.fs,a=e.enabled,c=(0,o.useRef)(!1),d=(0,o.useCallback)((0,r.Z)((function(){var e,t,r,o;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return c.current?[2]:[4,(0,s.mv)(i)];case 1:return e=l.sent(),t=e.path,r=e.line,o=e.col,t?(n({path:t,line:r,col:o}),[2]):(n(null),[2])}}))})),[i,n]),u=(0,o.useState)(!1),h=u[0],p=u[1];(0,o.useEffect)((function(){h||d().then((function(){return p(!0)}))})),(0,o.useEffect)((function(){if(a)return window.addEventListener("hashchange",d),function(){window.removeEventListener("hashchange",d)}}),[a,d]),(0,o.useEffect)((function(){if(a&&t){var e=(0,s.YM)(t),n=k().asPath;try{n=window.decodeURI(n)}catch(i){}if(!n.endsWith(e)){var r=k().asPath.includes("#")?k().asPath.slice(0,k().asPath.indexOf("#")):k().asPath;c.current=!0,k().replace({pathname:k().pathname,query:k().query},"".concat(r).concat(e),{shallow:!0}),c.current=!1}}}),[i,t,a])}({fs:q,currentDeeplink:"code"===(null===re||void 0===re?void 0:re.type)?re.deeplink:void 0,onChange:function(e){ie(te||e?{deeplink:null!==e&&void 0!==e?e:void 0,type:"code",container:W,fs:q,dotReplit:Y}:null)},enabled:b});var pe=(0,i.Z)((0,c.yo)({variables:{replId:Z.id}}),1)[0];(0,o.useEffect)((function(){if((0,s.u9)()){var e=!1;return(0,s.mv)(q).then((function(t){var n=t.path,r=t.line,i=t.col;e||n&&ie({type:"code",container:W,fs:q,dotReplit:Y,deeplink:{path:n,line:r,col:i}})})),function(){e=!0}}}),[W,q,Y]),(0,o.useEffect)((function(){ue&&he&&ie({type:"code",container:W,fs:q,dotReplit:Y,deeplink:{path:he}})}),[ue,he,W,q,Y]),(0,o.useEffect)((function(){se&&ie("server"!==se?{type:"vnc",container:W,fs:q}:{type:"server",previewUrl:Z.previewUrl})}),[W,q,se,Z.previewUrl]),(0,o.useEffect)((function(){O!==d.em.CONNECTED&&de(null)}),[O]);var fe=(0,h.b)({repl:Z,currentUser:v}),ye=function(e){return!!["html","web_project","kaboom"].includes(e.lang.id)||Boolean(e.config.isServer)}(Z),xe=oe||Boolean(re&&("code"===re.type||"vnc"===re.type||"terminal"===re.type)),ge=(0,T.S)();(0,o.useEffect)((function(){if(xe&&fe&&W.getConnectionState()===d.em.DISCONNECTED){W.connect({context:fe,getMinimumRetryDelayMs:ge});var e=ye?[W.close]:[$.onStateChanged(X),W.onConnectionStateChanged(G),W.onPortOpened((function(e){var t=e.isVnc;e.isForwarded&&de(t?"vnc":"server")})),W.close];return function(){e.forEach((function(e){return e()}))}}}),[xe,W,$,fe,ye]);var we=(0,o.useRef)(!1);return(0,o.useEffect)((function(){function e(){return(e=(0,r.Z)((function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:if(z!==u.Ah.IDLE)return[2];if(!we.current)return[2];if(we.current=!1,"terminal"!==(null===re||void 0===re?void 0:re.type))return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,$.run()];case 2:return t.sent(),[3,4];case 3:if(e=t.sent(),!e.toString().includes("Cannot run while state is not IDLE or STOPPING, got state: ".concat(u.Ah.OFFLINE)))throw e;return B("You are offline. Please check your internet connection."),[3,4];case 4:return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z,re,$,B]),{fs:q,dotReplit:Y,openFile:function(e){"server"===(null===re||void 0===re?void 0:re.type)&&X(u.Ah.IDLE),ie({type:"code",container:W,fs:q,deeplink:e,dotReplit:Y}),$.getRunState()===u.Ah.RUNNING&&$.stopRun()},viewState:re,runRepl:function(){if(ae(!1),v&&pe(),(0,w.j)(w.U3.REACTED_TO_REPL,{replView:"https://replit.com"+Z.url,reaction:"repl_ran",isReplTalk:!1,item:"repl",isCommunityPublish:Z.wasPosted,isAppPublish:Z.wasPublished}),ye){var e,t,n=(null===(e=Z.deployment)||void 0===e||null===(t=e.activeRelease)||void 0===t?void 0:t.previewUrl)||Z.previewUrl;return ie({type:"server",previewUrl:n}),void X(u.Ah.RUNNING)}if(Z.lang.canUseShellRunner)return ie("server"===se?{type:"server",previewUrl:Z.previewUrl}:"vnc"===se?{type:"vnc",container:W,fs:q}:{type:"terminal",runner:$,packager:K}),$.getRunState()!==u.Ah.IDLE?void(we.current=!0):void $.run();ie({type:"deprecationNotice"})},stopRepl:function(){ie(null),ae(!1),X(u.Ah.IDLE),ye||$.getRunState()===u.Ah.RUNNING&&$.stopRun()},runState:z,isFileTreeOpen:oe,setIsFileTreeOpen:ae,bsodId:null===L||void 0===L?void 0:L.eventId,nonBsodUnrecoverableError:N,showUrlOutput:ye,connectionState:O,devClearBsod:function(){D()}}}!function(e){e.Code="Code",e.Output="Output"}(C||(C={}))}}]);
//# sourceMappingURL=2164-699cc8e8305e6279.js.map